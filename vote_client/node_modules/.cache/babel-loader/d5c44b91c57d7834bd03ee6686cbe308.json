{"remainingRequest":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/babel-loader/lib/index.js!/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue?vue&type=template&id=3ccf8124","dependencies":[{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue","mtime":1610456235000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHZNb2RlbFJhZGlvIGFzIF92TW9kZWxSYWRpbywgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUgfSBmcm9tICJ2dWUiOwoKdmFyIF9ob2lzdGVkXzEgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJxdWVzdGlvbiIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImgxIiwgbnVsbCwgIldoaWNoIHBhcnR5IHdvdWxkIHlvdSBsaWtlIHRvIHZvdGUgZm9yPyIpXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICIiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGtleTogMAp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBrZXk6IDEKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgaWQ6ICJ2b3RlcyIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2hvaXN0ZWRfMSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbJGRhdGEudm90ZUFsbG93ZWQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzMsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuY2hvaWNlcywgZnVuY3Rpb24gKGNob2ljZSkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCB7CiAgICAgIGtleTogY2hvaWNlCiAgICB9LCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICAgIHR5cGU6ICJyYWRpbyIsCiAgICAgIHZhbHVlOiBjaG9pY2UsCiAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRkYXRhLnVzZXJDaG9pY2UgPSAkZXZlbnQ7CiAgICAgIH0pLAogICAgICBuYW1lOiAiY2hvaWNlIgogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJ2YWx1ZSJdKSwgW1tfdk1vZGVsUmFkaW8sICRkYXRhLnVzZXJDaG9pY2VdXSksIF9jcmVhdGVWTm9kZSgibGFiZWwiLCB7CiAgICAgIGZvcjogY2hvaWNlCiAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKGNob2ljZSksIDkKICAgIC8qIFRFWFQsIFBST1BTICovCiAgICAsIFsiZm9yIl0pXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgaWQ6ICJ2b3RlIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMudm90ZSAmJiAkb3B0aW9ucy52b3RlLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSksCiAgICBkaXNhYmxlZDogJGRhdGEudXNlckNob2ljZSA9PSBudWxsCiAgfSwgIlZvdGUhIiwgOAogIC8qIFBST1BTICovCiAgLCBbImRpc2FibGVkIl0pXSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZVZOb2RlKCJ0YWJsZSIsIF9ob2lzdGVkXzUsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuY2hvaWNlcywgZnVuY3Rpb24gKGNob2ljZSkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJ0ciIsIHsKICAgICAga2V5OiBjaG9pY2UKICAgIH0sIFtfY3JlYXRlVk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhjaG9pY2UpLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlVk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkZGF0YS52b3Rlc1tjaG9pY2VdKSwgMQogICAgLyogVEVYVCAqLwogICAgKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKSksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgaWQ6ICJsb2dvdXQiLAogICAgb25DbGljazogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5sb2dvdXQgJiYgJG9wdGlvbnMubG9nb3V0LmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiTG9nb3V0IildKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfQ=="},{"version":3,"sources":["/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue"],"names":[],"mappings":";;8BACE,YAAA,CAEO,KAFP,EAEO;AAFF,EAAA,KAAK,EAAC;AAEJ,CAFP,EAAqB,C,aACnB,YAAA,CAAgD,IAAhD,EAAgD,IAAhD,EAAI,yCAAJ,CADmB,CAArB,E;;AAAA,C;;;AAGK,EAAA,KAAK,EAAC;;;;;;;;;AASA,EAAA,EAAE,EAAC;;;sDAZd,U,EAGA,YAAA,CAiBM,KAjBN,EAAA,UAAA,EAiBM,CAhBO,KAAA,CAAA,W,kBAAX,YAAA,CAMM,KANN,EAMM,UANN,EAMM,E,kBALJ,YAAA,CAGM,SAHN,EAGM,IAHN,EAGM,WAAA,CAHgB,KAAA,CAAA,OAGhB,EAHuB,UAAjB,MAAiB,EAAX;yBAAlB,YAAA,CAGM,KAHN,EAGM;AAH0B,MAAA,GAAG,EAAE;AAG/B,KAHN,EAA2C,C,gBACzC,YAAA,CAAuE,OAAvE,EAAuE;AAAhE,MAAA,IAAI,EAAC,OAA2D;AAAlD,MAAA,KAAK,EAAE,MAA2C;;eAA1B,KAAA,CAAA,UAAA,GAAU,M;QAAgB;AAAd,MAAA,IAAI,EAAC;AAAS,KAAvE,E,IAAA,E;;AAAA,M,SAAA,C,kBAA6C,KAAA,CAAA,U,GADJ,EAEzC,YAAA,CAAuC,OAAvC,EAAuC;AAA/B,MAAA,GAAG,EAAE;AAA0B,KAAvC,EAAmB,gBAAA,CAAI,MAAJ,CAAnB,EAA6B;AAAA;AAA7B,MAA6B,CAAA,KAAA,CAA7B,CAFyC,CAA3C,C;GAGM,CAHN,E;;AAAA,GAKI,GADJ,YAAA,CAA6E,QAA7E,EAA6E;AAArE,IAAA,EAAE,EAAC,MAAkE;AAA1D,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,IAAA,IAAA,QAAA,CAAA,IAAA,OAAA,QAAA,YAAF;AAAA,KAAA,CAAqD;AAA5C,IAAA,QAAQ,EAAE,KAAA,CAAA,UAAA,IAAU;AAAwB,GAA7E,EAA+D,OAA/D,EAAoE;AAAA;AAApE,IAAoE,CAAA,UAAA,CAApE,CACI,CANN,C,mBAOA,YAAA,CAOM,KAPN,EAOM,UAPN,EAOM,CANJ,YAAA,CAKQ,OALR,EAAA,UAAA,EAKQ,E,kBAJN,YAAA,CAGK,SAHL,EAGK,IAHL,EAGK,WAAA,CAHgB,KAAA,CAAA,OAGhB,EAHuB,UAAjB,MAAiB,EAAX;yBAAjB,YAAA,CAGK,IAHL,EAGK;AAH0B,MAAA,GAAG,EAAE;AAG/B,KAHL,EAA0C,CACxC,YAAA,CAAmB,IAAnB,EAAmB,IAAnB,EAAmB,gBAAA,CAAb,MAAa,CAAnB,EAAY;AAAA;AAAZ,KADwC,EAExC,YAAA,CAA0B,IAA1B,EAA0B,IAA1B,EAA0B,gBAAA,CAApB,KAAA,CAAA,KAAA,CAAM,MAAN,CAAoB,CAA1B,EAAkB;AAAA;AAAlB,KAFwC,CAA1C,C;GAGK,CAHL,E;;AAAA,GAIM,EALR,CAMI,CAPN,C,CASI,EADJ,YAAA,CAAmD,QAAnD,EAAmD;AAA3C,IAAA,EAAE,EAAC,QAAwC;AAA9B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,MAAA,IAAA,QAAA,CAAA,MAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAyB,GAAnD,EAAoC,QAApC,CACI,CAjBN,C","sourcesContent":["<template>\n  <div class=\"question\">\n    <h1>Which party would you like to vote for?</h1>\n   </div>\n  <div class=\"\">\n    <div v-if=\"voteAllowed\">\n      <div v-for=\"choice in choices\" :key=\"choice\">\n        <input type=\"radio\" :value=\"choice\" v-model=\"userChoice\" name=\"choice\">\n        <label :for=\"choice\">{{choice}}</label>\n      </div>\n      <button id=\"vote\" @click=\"vote\" :disabled=\"userChoice == null\">Vote!</button>\n    </div>\n    <div v-else>\n      <table id=\"votes\">\n        <tr v-for=\"choice in choices\" :key=\"choice\">\n          <td>{{choice}}</td>\n          <td>{{votes[choice]}}</td>\n        </tr>\n      </table>\n    </div>\n    <button id=\"logout\" @click=\"logout\">Logout</button>\n  </div>\n</template>\n\n<script>\nimport api from '@/api'\n\nexport default {\n  name: 'Home',\n  data () {\n    return {\n      choices: [],\n      userChoice: null,\n      votes: {},\n      voteAllowed: true\n    }\n  },\n  mounted () {\n    api.choices()\n      .then(choices => {\n        this.choices = choices\n      })\n      .catch(() => {\n        this.$router.push('/login')\n      })\n    \n    api.allowed()\n    .then(response => {\n      if (response.message != 'Ok') {\n        this.voteAllowed = false\n        this.getVotes()\n      }\n    })\n  },\n  methods: {\n    vote () {\n      api.vote(this.userChoice)\n        .then(() => {\n          this.voteAllowed = false\n          this.getVotes()\n        })\n        .catch(() => {\n          this.$router.push('/login')\n        })\n    },\n    getVotes () {\n      api.votes()\n      .then(votes => {\n        this.votes = votes\n      })\n    },\n    logout () {\n      api.logout()\n      this.$router.push('/login')\n    }\n  },\n}\n</script>\n<style>\n\ninput {\n  text-align: center;\n}\n\n#vote {\n  margin: 1em;\n  color:rebeccapurple\n}\n\n#logout {\n  margin: 2em;\n  color:red\n}\n\n#votes {\n  margin: auto;\n}\n</style>"],"sourceRoot":""}]}