{"remainingRequest":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue","mtime":1610456235000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBhcGkgZnJvbSAnQC9hcGknCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hvaWNlczogW10sCiAgICAgIHVzZXJDaG9pY2U6IG51bGwsCiAgICAgIHZvdGVzOiB7fSwKICAgICAgdm90ZUFsbG93ZWQ6IHRydWUKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgYXBpLmNob2ljZXMoKQogICAgICAudGhlbihjaG9pY2VzID0+IHsKICAgICAgICB0aGlzLmNob2ljZXMgPSBjaG9pY2VzCiAgICAgIH0pCiAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpCiAgICAgIH0pCiAgICAKICAgIGFwaS5hbGxvd2VkKCkKICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgaWYgKHJlc3BvbnNlLm1lc3NhZ2UgIT0gJ09rJykgewogICAgICAgIHRoaXMudm90ZUFsbG93ZWQgPSBmYWxzZQogICAgICAgIHRoaXMuZ2V0Vm90ZXMoKQogICAgICB9CiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgdm90ZSAoKSB7CiAgICAgIGFwaS52b3RlKHRoaXMudXNlckNob2ljZSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLnZvdGVBbGxvd2VkID0gZmFsc2UKICAgICAgICAgIHRoaXMuZ2V0Vm90ZXMoKQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0Vm90ZXMgKCkgewogICAgICBhcGkudm90ZXMoKQogICAgICAudGhlbih2b3RlcyA9PiB7CiAgICAgICAgdGhpcy52b3RlcyA9IHZvdGVzCiAgICAgIH0pCiAgICB9LAogICAgbG9nb3V0ICgpIHsKICAgICAgYXBpLmxvZ291dCgpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKQogICAgfQogIH0sCn0K"},{"version":3,"sources":["/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue"],"names":[],"mappings":"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","file":"/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"question\">\n    <h1>Which party would you like to vote for?</h1>\n   </div>\n  <div class=\"\">\n    <div v-if=\"voteAllowed\">\n      <div v-for=\"choice in choices\" :key=\"choice\">\n        <input type=\"radio\" :value=\"choice\" v-model=\"userChoice\" name=\"choice\">\n        <label :for=\"choice\">{{choice}}</label>\n      </div>\n      <button id=\"vote\" @click=\"vote\" :disabled=\"userChoice == null\">Vote!</button>\n    </div>\n    <div v-else>\n      <table id=\"votes\">\n        <tr v-for=\"choice in choices\" :key=\"choice\">\n          <td>{{choice}}</td>\n          <td>{{votes[choice]}}</td>\n        </tr>\n      </table>\n    </div>\n    <button id=\"logout\" @click=\"logout\">Logout</button>\n  </div>\n</template>\n\n<script>\nimport api from '@/api'\n\nexport default {\n  name: 'Home',\n  data () {\n    return {\n      choices: [],\n      userChoice: null,\n      votes: {},\n      voteAllowed: true\n    }\n  },\n  mounted () {\n    api.choices()\n      .then(choices => {\n        this.choices = choices\n      })\n      .catch(() => {\n        this.$router.push('/login')\n      })\n    \n    api.allowed()\n    .then(response => {\n      if (response.message != 'Ok') {\n        this.voteAllowed = false\n        this.getVotes()\n      }\n    })\n  },\n  methods: {\n    vote () {\n      api.vote(this.userChoice)\n        .then(() => {\n          this.voteAllowed = false\n          this.getVotes()\n        })\n        .catch(() => {\n          this.$router.push('/login')\n        })\n    },\n    getVotes () {\n      api.votes()\n      .then(votes => {\n        this.votes = votes\n      })\n    },\n    logout () {\n      api.logout()\n      this.$router.push('/login')\n    }\n  },\n}\n</script>\n<style>\n\ninput {\n  text-align: center;\n}\n\n#vote {\n  margin: 1em;\n  color:rebeccapurple\n}\n\n#logout {\n  margin: 2em;\n  color:red\n}\n\n#votes {\n  margin: auto;\n}\n</style>"]}]}