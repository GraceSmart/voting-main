{"remainingRequest":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue?vue&type=template&id=3ccf8124","dependencies":[{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue","mtime":1610456235000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gracesmart/Desktop/voting-main/vote_client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0icXVlc3Rpb24iPgogICAgPGgxPldoaWNoIHBhcnR5IHdvdWxkIHlvdSBsaWtlIHRvIHZvdGUgZm9yPzwvaDE+CiAgIDwvZGl2PgogIDxkaXYgY2xhc3M9IiI+CiAgICA8ZGl2IHYtaWY9InZvdGVBbGxvd2VkIj4KICAgICAgPGRpdiB2LWZvcj0iY2hvaWNlIGluIGNob2ljZXMiIDprZXk9ImNob2ljZSI+CiAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiA6dmFsdWU9ImNob2ljZSIgdi1tb2RlbD0idXNlckNob2ljZSIgbmFtZT0iY2hvaWNlIj4KICAgICAgICA8bGFiZWwgOmZvcj0iY2hvaWNlIj57e2Nob2ljZX19PC9sYWJlbD4KICAgICAgPC9kaXY+CiAgICAgIDxidXR0b24gaWQ9InZvdGUiIEBjbGljaz0idm90ZSIgOmRpc2FibGVkPSJ1c2VyQ2hvaWNlID09IG51bGwiPlZvdGUhPC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxkaXYgdi1lbHNlPgogICAgICA8dGFibGUgaWQ9InZvdGVzIj4KICAgICAgICA8dHIgdi1mb3I9ImNob2ljZSBpbiBjaG9pY2VzIiA6a2V5PSJjaG9pY2UiPgogICAgICAgICAgPHRkPnt7Y2hvaWNlfX08L3RkPgogICAgICAgICAgPHRkPnt7dm90ZXNbY2hvaWNlXX19PC90ZD4KICAgICAgICA8L3RyPgogICAgICA8L3RhYmxlPgogICAgPC9kaXY+CiAgICA8YnV0dG9uIGlkPSJsb2dvdXQiIEBjbGljaz0ibG9nb3V0Ij5Mb2dvdXQ8L2J1dHRvbj4KICA8L2Rpdj4K"},{"version":3,"sources":["/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue"],"names":[],"mappings":"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","file":"/Users/gracesmart/Desktop/voting-main/vote_client/src/views/Vote.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"question\">\n    <h1>Which party would you like to vote for?</h1>\n   </div>\n  <div class=\"\">\n    <div v-if=\"voteAllowed\">\n      <div v-for=\"choice in choices\" :key=\"choice\">\n        <input type=\"radio\" :value=\"choice\" v-model=\"userChoice\" name=\"choice\">\n        <label :for=\"choice\">{{choice}}</label>\n      </div>\n      <button id=\"vote\" @click=\"vote\" :disabled=\"userChoice == null\">Vote!</button>\n    </div>\n    <div v-else>\n      <table id=\"votes\">\n        <tr v-for=\"choice in choices\" :key=\"choice\">\n          <td>{{choice}}</td>\n          <td>{{votes[choice]}}</td>\n        </tr>\n      </table>\n    </div>\n    <button id=\"logout\" @click=\"logout\">Logout</button>\n  </div>\n</template>\n\n<script>\nimport api from '@/api'\n\nexport default {\n  name: 'Home',\n  data () {\n    return {\n      choices: [],\n      userChoice: null,\n      votes: {},\n      voteAllowed: true\n    }\n  },\n  mounted () {\n    api.choices()\n      .then(choices => {\n        this.choices = choices\n      })\n      .catch(() => {\n        this.$router.push('/login')\n      })\n    \n    api.allowed()\n    .then(response => {\n      if (response.message != 'Ok') {\n        this.voteAllowed = false\n        this.getVotes()\n      }\n    })\n  },\n  methods: {\n    vote () {\n      api.vote(this.userChoice)\n        .then(() => {\n          this.voteAllowed = false\n          this.getVotes()\n        })\n        .catch(() => {\n          this.$router.push('/login')\n        })\n    },\n    getVotes () {\n      api.votes()\n      .then(votes => {\n        this.votes = votes\n      })\n    },\n    logout () {\n      api.logout()\n      this.$router.push('/login')\n    }\n  },\n}\n</script>\n<style>\n\ninput {\n  text-align: center;\n}\n\n#vote {\n  margin: 1em;\n  color:rebeccapurple\n}\n\n#logout {\n  margin: 2em;\n  color:red\n}\n\n#votes {\n  margin: auto;\n}\n</style>"]}]}